<p-growl [(value)]="msgs"></p-growl>
<div class="wrapper">
  <!-- Sidebar Holder -->
  <nav id="sidebar" class="hidden-print d-block d-sm-none">
    <ul class="list-unstyled components">
      <li *ngIf="usuario.rol==='ROL_ADMIN'" (click)="abrirDialogConfiguracion()">
        <a>
          <i class="fa fa-user"></i>
          Perfil
        </a>
      </li>
      <li *ngIf="usuario.rol==='ROL_ADMIN'" [routerLink]="['/pantallaApp/profesores']">
        <a>
          <i class="fa fa-graduation-cap"></i>
          Profesores
        </a>
      </li>
      <li [routerLink]="['/pantallaApp/recursos','aulas']">
        <a>
          <i class="fas fa-chalkboard"></i>

          Aulas
        </a>
      </li>
      <li [routerLink]="['/pantallaApp/recursos','otros']">
        <a>
          <i class="far fa-keyboard"></i>
          Recursos
        </a>
      </li>
      <li *ngIf="usuario.rol!=='ROL_ADMIN'" [routerLink]="['/pantallaApp/reservas']">
        <a>
          <i class="fa fa-calendar"></i>
          Reservas
        </a>
      </li>
      <li *ngIf="usuario.rol==='ROL_ADMIN'" [routerLink]="['/pantallaApp/cursos']">
        <a>
          <i class="fa fa-columns"></i>
          Cursos
        </a>
      </li>
      <li *ngIf="usuario.rol==='ROL_ADMIN'" [routerLink]="['/pantallaApp/horarios']">
        <a>
          <i class="fa fa-clock"></i>
          Horarios
        </a>
      </li>
      <li *ngIf="usuario.rol==='ROL_ADMIN'" [routerLink]="['/pantallaApp/historico-profesores']">
        <a>
          <i class="fa fa-list"></i>
          Histórico de profesores
        </a>
      </li>
      <li *ngIf="usuario.rol==='ROL_ADMIN'" [routerLink]="['/pantallaApp/generador-calendario']">
        <a>
          <i class="fa fa-print"></i>
          Imprimir Calendario
        </a>
      </li>
      <li *ngIf="usuario.rol==='ROL_ADMIN'" (click)="logout()">
        <a>
          <i class="fa fa-sign-out"></i>
          Cerrar Sesión
        </a>
      </li>
    </ul>

  </nav>

  <!-- Page Content Holder -->
  <div id="content">
    <nav class="navbar navbar-expand-lg navBarMovil d-block d-sm-none">
      <div class="navbar-header">
        <button type="button" (click)="ocultar()" id="sidebarCollapse" class="btn btn-info navbar-btn">
          <i class="fa fa-bars" aria-hidden="true"></i>
        </button>
      </div>
    </nav>
    <div class="d-none d-sm-block">
      <nav class="navbar navbar-expand-lg navBarMovil">
        <a class="navbar-brand imagenLogo">
          <img  src="../../../assets/logo.png" alt="" width="100px" [routerLink]="['/pantallaApp']">
        </a>
        <!-- Collapse button -->

        <div class="collapse navbar-collapse" id="basicExampleNav">

          <!-- Links -->
          <ul class="navbar-nav  menuOpciones">
            <li class="nav-item dropdown" *ngIf="usuario.rol==='ROL_ADMIN'">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Profesores
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" [routerLink]="['/pantallaApp/profesores']" (click)="cambiarRuta('Profesores > Profesores Activos')">Profesores Activos</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" [routerLink]="['/pantallaApp/historico-profesores']" (click)="cambiarRuta('Profesores > Histórico Profesores')">Historio profesores</a>
              </div>
            </li>
            <li class="nav-item" [routerLink]="['/pantallaApp/recursos','aulas']" (click)="cambiarRuta('Aulas')">
              <a>
                <a class="nav-link">Aulas</a>
              </a>
            </li>
            <li class="nav-item" [routerLink]="['/pantallaApp/recursos','otros']" (click)="cambiarRuta('Recursos')">
              <a>
                <a class="nav-link">Recursos</a>
              </a>
            </li>
            <li class="nav-item" *ngIf="usuario.rol!=='ROL_ADMIN'" [routerLink]="['/pantallaApp/reservas']" (click)="cambiarRuta('Reservas')">
              <a>
                <a class="nav-link">Reservas</a>
              </a>
            </li>
            <li class="nav-item" *ngIf="usuario.rol==='ROL_ADMIN'" [routerLink]="['/pantallaApp/cursos']" (click)="cambiarRuta('Cursos')">
              <a>
                <a class="nav-link">Cursos</a>
              </a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Configuración
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                <a *ngIf="usuario.rol==='ROL_ADMIN'" class="dropdown-item" [routerLink]="['/pantallaApp/horarios']" (click)="cambiarRuta('Configuración > Horarios')">Horarios</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" [routerLink]="['/pantallaApp/generador-calendario']" (click)="cambiarRuta('Configuración > Generador Calendarios')">Generar calendario</a>
              </div>
            </li>
          </ul>
        </div>
        <div class="container-fluid">
          <ul class="nav navbar-nav nav-flex-icons ml-auto dropdo">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <div>
                  <img *ngIf="!usuario.imagen" style="vertical-align:middle" src="../assets/avatar.png" alt="Nombre" width="30px" height="30px">
                  <img *ngIf="usuario.imagen" style="vertical-align:middle" src="http://localhost:8080/api/upload/files/{{usuario.imagen}}"
                    alt="Nombre" width="30" height="30">
                  <span style="">{{usuario.nombre | nombre}} {{usuario.apellido | nombre}}</span>
                </div>
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" (click)="abrirDialogConfiguracion()">Configuración</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" (click)="logout()">Cerrar Sesión</a>
              </div>
            </li>
          </ul>
        </div>
      </nav>
    </div>
    <div class="content-app">
      <router-outlet (activate)="changeOfRoutes()" class="visible-print">
      </router-outlet>
    </div>
  </div>
</div>

<div *ngIf="cambiarConfig">
  <configuracion-usuario (cerrar)="cerrarDialogReservas($event)"></configuracion-usuario>
</div>